<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Susun Kata</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1f2833 0%, #0b0c0f 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        #game-container {
            background-color: #2a323c;
            padding: 2.5rem;
            border-radius: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            text-align: center;
            max-width: 550px;
            width: 100%;
            transition: all 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        @media (max-width: 600px) {
            #game-container {
                padding: 1.5rem;
                border-radius: 1.5rem;
            }
        }

        .logo-text {
            font-size: 3.5rem;
            font-weight: 900;
            color: #66fcf1;
            text-shadow: 0 0 5px #66fcf1, 0 0 10px #66fcf1, 0 0 20px #66fcf1;
            animation: glow 1.5s infinite alternate ease-in-out;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 5px #66fcf1, 0 0 10px #66fcf1, 0 0 20px #66fcf1;
                transform: scale(1);
            }
            to {
                text-shadow: 0 0 10px #66fcf1, 0 0 30px #66fcf1, 0 0 50px #66fcf1;
                transform: scale(1.02);
            }
        }

        h1 {
            font-size: 2.75rem;
            font-weight: 700;
            color: #c5c6c7;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        #category-container {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        .category-button {
            padding: 0.75rem 1.25rem;
            background-color: #3a4450;
            color: #c5c6c7;
            font-weight: bold;
            border-radius: 9999px;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }

        .category-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
        }
        
        .category-button.active {
            background: linear-gradient(45deg, #45a29e, #66fcf1);
            color: #1f2833;
            box-shadow: 0 8px 16px rgba(102, 252, 241, 0.2);
        }

        #message {
            font-size: 1.35rem;
            font-weight: 500;
            color: #a9b1b7;
            height: 30px;
            margin-bottom: 1rem;
            transition: color 0.3s;
        }

        #scrambled-word-container {
            background-color: #1f2833;
            border: 2px solid #45a29e;
            border-radius: 1.25rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        #scrambled-word {
            font-size: 2.5rem;
            font-weight: bold;
            color: #66fcf1;
            letter-spacing: 8px;
            text-shadow: 2px 2px 4px rgba(102, 252, 241, 0.4);
        }
        
        #guess-input {
            width: 100%;
            padding: 0.75rem;
            background-color: #1f2833;
            border: 2px solid #45a29e;
            border-radius: 9999px;
            color: white;
            text-align: center;
            outline: none;
            transition: all 0.2s ease-in-out;
            margin-bottom: 1.5rem;
        }
        
        #guess-input:focus {
            border-color: #66fcf1;
            box-shadow: 0 0 5px #66fcf1;
        }

        #submit-button {
            width: 100%;
            padding: 0.75rem 2.5rem;
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            color: white;
            border-radius: 9999px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            margin-bottom: 1.5rem;
        }

        #submit-button:hover {
            box-shadow: 0 8px 16px rgba(46, 204, 113, 0.2);
            transform: translateY(-3px);
        }

        #submit-button:active {
            transform: scale(0.95);
        }
        
        .button-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
        }

        #new-game-button, #back-button {
            padding: 0.75rem 1.75rem;
            border-radius: 9999px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }

        #new-game-button {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
        }

        #new-game-button:hover {
            box-shadow: 0 8px 16px rgba(231, 76, 60, 0.2);
            transform: translateY(-3px);
        }

        #new-game-button:active {
            transform: scale(0.95);
        }

        #back-button {
            background-color: #7f8c8d;
            color: white;
        }
        
        #back-button:hover {
            box-shadow: 0 8px 16px rgba(127, 140, 141, 0.2);
            transform: translateY(-3px);
        }
        
        #score-board {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #3a4450;
            padding: 0.75rem 1.5rem;
            border-radius: 1.25rem;
            margin: 1.5rem auto;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
            width: fit-content;
        }
        
        .score-item {
            text-align: center;
            color: #a9b1b7;
            font-weight: 600;
        }

        .score-value {
            font-size: 1.5rem;
            color: #66fcf1;
            font-weight: 700;
        }

        .score-label {
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        #correct-word-display {
            font-size: 1.5rem;
            font-style: italic;
            color: #2ecc71;
            margin-top: -1rem;
            margin-bottom: 1rem;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2rem;
            }
            #scrambled-word {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div>
            <div id="category-container">
                <button id="mode-hewan" class="category-button active">Hewan</button>
                <button id="mode-manusia" class="category-button">Manusia</button>
                <button id="mode-tumbuhan" class="category-button">Tumbuhan</button>
            </div>
            <div class="logo-text">Andre</div>
            <div id="score-board">
                <div class="score-item">
                    <div class="score-value" id="score">0</div>
                    <div class="score-label">Skor</div>
                </div>
            </div>
            <h1>Susun Kata</h1>
            <div id="scrambled-word-container">
                <div id="scrambled-word"></div>
            </div>
            <div id="message">Tebak kata di atas!</div>
            <input type="text" id="guess-input" placeholder="Masukkan jawaban Anda">
            <button id="submit-button">Enter</button>
            <div id="correct-word-display"></div>
            <div class="button-group">
                <button id="new-game-button">Kata Baru</button>
                <button id="back-button">Kembali ke Menu Utama</button>
            </div>
        </div>
    </div>

    <script type="module">
        // List of words for each category
        const wordLists = {
            "hewan": ["singa", "gajah", "harimau", "kucing", "anjing", "monyet", "jerapah", "buaya"],
            "manusia": ["dokter", "guru", "polisi", "pemadam", "petani", "penulis", "penyanyi", "pilot"],
            "tumbuhan": ["mawar", "melati", "anggrek", "kaktus", "padi", "jagung", "kelapa", "cemara"]
        };
        
        // UI elements
        const scrambledWordEl = document.getElementById('scrambled-word');
        const guessInput = document.getElementById('guess-input');
        const submitButton = document.getElementById('submit-button');
        const newGameButton = document.getElementById('new-game-button');
        const backButton = document.getElementById('back-button');
        const messageEl = document.getElementById('message');
        const scoreEl = document.getElementById('score');
        const correctWordDisplay = document.getElementById('correct-word-display');
        const categoryButtons = document.querySelectorAll('.category-button');

        // Game state
        let currentWord = '';
        let score = 0;
        let currentCategory = 'hewan';

        // Function to shuffle a string
        function shuffleWord(word) {
            const arr = word.split('');
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr.join('');
        }
        
        // Function to start a new game round
        function startNewRound() {
            // Pick a new word and scramble it based on the current category
            const categoryList = wordLists[currentCategory];
            if (categoryList.length > 0) {
                const randomIndex = Math.floor(Math.random() * categoryList.length);
                currentWord = categoryList[randomIndex];
                const scrambled = shuffleWord(currentWord);
                scrambledWordEl.textContent = scrambled.toUpperCase();
            } else {
                scrambledWordEl.textContent = "Tidak ada kata";
            }
            
            // Reset UI for new round
            guessInput.value = '';
            messageEl.textContent = 'Tebak kata di atas!';
            messageEl.style.color = '#a9b1b7';
            correctWordDisplay.textContent = '';
            guessInput.disabled = false;
            submitButton.disabled = false;
            guessInput.focus();
        }
        
        // Function to change the category
        function setCategory(category) {
            currentCategory = category;
            categoryButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`mode-${category}`).classList.add('active');
            startNewRound();
        }

        // Event listeners for category buttons
        document.getElementById('mode-hewan').addEventListener('click', () => setCategory('hewan'));
        document.getElementById('mode-manusia').addEventListener('click', () => setCategory('manusia'));
        document.getElementById('mode-tumbuhan').addEventListener('click', () => setCategory('tumbuhan'));

        // Event listener for the submit button
        submitButton.addEventListener('click', () => {
            const guess = guessInput.value.toLowerCase().trim();
            if (guess === currentWord) {
                messageEl.textContent = 'Hebat! Jawaban Anda benar!';
                messageEl.style.color = '#2ecc71';
                score++;
                scoreEl.textContent = score;
                correctWordDisplay.textContent = `Kata yang benar adalah: ${currentWord.toUpperCase()}`;
                guessInput.disabled = true;
                submitButton.disabled = true;
            } else {
                messageEl.textContent = 'Salah. Coba lagi!';
                messageEl.style.color = '#e74c3c';
            }
        });

        // Event listener for the new game button
        newGameButton.addEventListener('click', startNewRound);

        // Event listener for the "Back to Main Menu" button
        backButton.addEventListener('click', () => {
             window.location.href = './index.html';
        });

        // Event listener to handle Enter key in input field
        guessInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                submitButton.click();
            }
        });

        // Initial setup on page load
        window.onload = startNewRound;
    </script>
</body>
    </html>
